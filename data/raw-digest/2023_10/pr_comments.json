[
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345437734",
    "pull_request_review_id":1657002448,
    "id":1345437734,
    "node_id":"PRRC_kwDOAlVrjc5QMcAm",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"leonardehrenfried",
      "id":151346,
      "node_id":"MDQ6VXNlcjE1MTM0Ng==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/151346?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/leonardehrenfried",
      "html_url":"https:\/\/github.com\/leonardehrenfried",
      "followers_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/followers",
      "following_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/repos",
      "events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Most consumers do have an internal model of a stop pattern but is that actually part of the spec? It feels a huge opportunity to generate lots of invalid updates by refering to a concept that isn't defined anywhere.\r\n\r\n(I do see that otherwise you'd have to generate a lot of duplicates.)",
    "created_at":"2023-10-04T08:48:08Z",
    "updated_at":"2023-10-04T11:59:18Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345437734",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345437734"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345437734"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345437734\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":1092.0,
    "start_side":"RIGHT",
    "line":null,
    "original_line":1093,
    "side":"RIGHT",
    "original_position":96,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345454229",
    "pull_request_review_id":1657002448,
    "id":1345454229,
    "node_id":"PRRC_kwDOAlVrjc5QMgCV",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;\n+\n+  \/\/ A list of modifications to apply to the affected trips. \n+  repeated Modification modifications = 5; \n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message ReplacementStop {\n+  \/\/ The difference in seconds between the arrival time at this stop and the arrival time at the reference stop. The reference stop is the stop prior to start_stop_sequence. If the modification begins at the first stop of the trip, then the first stop of the trip is the reference stop.\n+  \/\/ This value MUST be monotonically increasing and may only be a negative number if the first stop of the original trip is the reference stop.\n+  optional int32 travel_time_to_stop = 1;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"leonardehrenfried",
      "id":151346,
      "node_id":"MDQ6VXNlcjE1MTM0Ng==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/151346?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/leonardehrenfried",
      "html_url":"https:\/\/github.com\/leonardehrenfried",
      "followers_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/followers",
      "following_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/repos",
      "events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I would like this to be mandatory. \r\n\r\nI understand that in the situations were talking about here the agencies often don't truly know at what times the bus will be at the stop but in most systems (OTP included) each stop time must have a, well, time, otherwise the routing algorithm doesn't work. \r\n\r\nSo in the absence of this data it would have to be guessed\/interpolated somewhere and I would prefer there to be only one place where these interpolations happen, namely in the system that is producing the realtime update, rather than separate guesses in OTP, Google Maps, Transit ...\r\n\r\nI recognize that this is a little against the spirit of the `TripUpdate` which allows you to leave out a lot of stuff but this creates a lot of ambiguity and makes applying updates harder than necessary.",
    "created_at":"2023-10-04T09:00:24Z",
    "updated_at":"2023-10-04T12:00:49Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345454229",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345454229"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345454229"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345454229\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1179.0,
    "original_line":1116,
    "side":"RIGHT",
    "original_position":119,
    "position":161,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345454908",
    "pull_request_review_id":1657002448,
    "id":1345454908,
    "node_id":"PRRC_kwDOAlVrjc5QMgM8",
    "diff_hunk":"",
    "path":"gtfs-realtime\/spec\/en\/images\/first_stop_reference.png",
    "commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"leonardehrenfried",
      "id":151346,
      "node_id":"MDQ6VXNlcjE1MTM0Ng==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/151346?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/leonardehrenfried",
      "html_url":"https:\/\/github.com\/leonardehrenfried",
      "followers_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/followers",
      "following_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/repos",
      "events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"These drawings are very illustrative - well done!",
    "created_at":"2023-10-04T09:00:53Z",
    "updated_at":"2023-10-04T11:59:18Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345454908",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345454908"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345454908"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345454908\/reactions",
      "total_count":2,
      "+1":0,
      "-1":0,
      "laugh":1,
      "hooray":0,
      "confused":0,
      "heart":1,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1.0,
    "original_line":1,
    "side":"RIGHT",
    "original_position":1,
    "position":1,
    "subject_type":"file",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345460745",
    "pull_request_review_id":1657002448,
    "id":1345460745,
    "node_id":"PRRC_kwDOAlVrjc5QMhoJ",
    "diff_hunk":"@@ -556,11 +563,105 @@ A localized image URL mapped to a language.\n \n Describes the physical path that a vehicle takes when the shape is not part of the (CSV) GTFS, such as for an ad-hoc detour. Shapes belong to Trips and consist of an encoded polyline for more efficient transmission.  Shapes do not need to intercept the location of Stops exactly, but all Stops on a trip should lie within a small distance of the shape for that trip, i.e. close to straight line segments connecting the shape points\n \n-**Caution:** this message is still **experimental**, and subject to change. It may be formally adopted in the future.<br>.\n+**Fields**\n+\n+| _**Field Name**_ | _**Type**_ | _**Required**_ | _**Cardinality**_ | _**Description**_ |\n+|------------------|------------|----------------|-------------------|-------------------|\n+| **shape_id** | [string](https:\/\/developers.google.com\/protocol-buffers\/docs\/proto#scalar) | Required | One |  Identifier of the shape. Must be different than any `shape_id` defined in the (CSV) GTFS. |\n+| **encoded_polyline** | [string](https:\/\/developers.google.com\/protocol-buffers\/docs\/proto#scalar) | Required | One | Encoded polyline representation of the shape. This polyline must contain at least two points. For more information about encoded polylines, see https:\/\/developers.google.com\/maps\/documentation\/utilities\/polylinealgorithm|\n+\n+## _message_ Stop\n+\n+Represent a new Stop added to the feed dynamically. All fields are as described in the (CSV) GTFS specification. Location type of the new stop is assumed to be `0` (routable stop). ",
    "path":"gtfs-realtime\/spec\/en\/reference.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"leonardehrenfried",
      "id":151346,
      "node_id":"MDQ6VXNlcjE1MTM0Ng==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/151346?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/leonardehrenfried",
      "html_url":"https:\/\/github.com\/leonardehrenfried",
      "followers_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/followers",
      "following_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/repos",
      "events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I find \"assumed to be\" too weak language. Someone will find a way to interpret that it can be something else. :smile: \r\n\r\nI would prefer something like, \"is of type `0` ...\"",
    "created_at":"2023-10-04T09:05:13Z",
    "updated_at":"2023-10-04T11:59:18Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345460745",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345460745"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345460745"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345460745\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":575,
    "side":"RIGHT",
    "original_position":28,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345477985",
    "pull_request_review_id":1657002448,
    "id":1345477985,
    "node_id":"PRRC_kwDOAlVrjc5QMl1h",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"leonardehrenfried",
      "id":151346,
      "node_id":"MDQ6VXNlcjE1MTM0Ng==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/151346?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/leonardehrenfried",
      "html_url":"https:\/\/github.com\/leonardehrenfried",
      "followers_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/followers",
      "following_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/repos",
      "events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I feel that this is pragmatic but also a little magic. I think I would prefer this to be a bit more explicit with actual assigned trip trip is, but that would require you to define a modification for each trip. I'm in favour of it but what does the community think about compactness vs. explicitness (is that a word)?\r\n\r\nAlso, doesn't this assume that neither trip not modification ids have an underscore in them?",
    "created_at":"2023-10-04T09:16:54Z",
    "updated_at":"2023-10-04T11:59:18Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345477985",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345477985"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345477985"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345477985\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":1090,
    "side":"RIGHT",
    "original_position":93,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345818496",
    "pull_request_review_id":1657568073,
    "id":1345818496,
    "node_id":"PRRC_kwDOAlVrjc5QN4-A",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"It's the first time that concept is introduced in the spec indeed. We can define 'stop pattern' more completely, but I do feel it's a good concept to have in the spec. ",
    "created_at":"2023-10-04T13:40:54Z",
    "updated_at":"2023-10-04T13:40:54Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345818496",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345818496"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345818496"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345818496\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":1092.0,
    "start_side":"RIGHT",
    "line":null,
    "original_line":1093,
    "side":"RIGHT",
    "original_position":96,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1345437734.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345820830",
    "pull_request_review_id":1657571599,
    "id":1345820830,
    "node_id":"PRRC_kwDOAlVrjc5QN5ie",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"skinkie",
      "id":502394,
      "node_id":"MDQ6VXNlcjUwMjM5NA==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/502394?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/skinkie",
      "html_url":"https:\/\/github.com\/skinkie",
      "followers_url":"https:\/\/api.github.com\/users\/skinkie\/followers",
      "following_url":"https:\/\/api.github.com\/users\/skinkie\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/skinkie\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/skinkie\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/skinkie\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/skinkie\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/skinkie\/repos",
      "events_url":"https:\/\/api.github.com\/users\/skinkie\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/skinkie\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"@gcamp lets add more normalisation ;)",
    "created_at":"2023-10-04T13:42:26Z",
    "updated_at":"2023-10-04T13:42:27Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345820830",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345820830"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345820830"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345820830\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":1092.0,
    "start_side":"RIGHT",
    "line":null,
    "original_line":1093,
    "side":"RIGHT",
    "original_position":96,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1345437734.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345840851",
    "pull_request_review_id":1657602851,
    "id":1345840851,
    "node_id":"PRRC_kwDOAlVrjc5QN-bT",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;\n+\n+  \/\/ A list of modifications to apply to the affected trips. \n+  repeated Modification modifications = 5; \n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message ReplacementStop {\n+  \/\/ The difference in seconds between the arrival time at this stop and the arrival time at the reference stop. The reference stop is the stop prior to start_stop_sequence. If the modification begins at the first stop of the trip, then the first stop of the trip is the reference stop.\n+  \/\/ This value MUST be monotonically increasing and may only be a negative number if the first stop of the original trip is the reference stop.\n+  optional int32 travel_time_to_stop = 1;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Understand that means more work for the consumer but I still think it's the way to go. \r\n\r\nAs you said, it's what is currently happening in `TripUpdates` but also empty `departure_time` (static GTFS). \r\n\r\nAlso, generally GTFS has been trying to make it easier for producers vs consumers (Google is often pushing for this). ",
    "created_at":"2023-10-04T13:55:20Z",
    "updated_at":"2023-10-04T13:55:21Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345840851",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345840851"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345840851"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345840851\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1179.0,
    "original_line":1116,
    "side":"RIGHT",
    "original_position":119,
    "position":161,
    "subject_type":"line",
    "in_reply_to_id":1345454229.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345841479",
    "pull_request_review_id":1657603921,
    "id":1345841479,
    "node_id":"PRRC_kwDOAlVrjc5QN-lH",
    "diff_hunk":"@@ -556,11 +563,105 @@ A localized image URL mapped to a language.\n \n Describes the physical path that a vehicle takes when the shape is not part of the (CSV) GTFS, such as for an ad-hoc detour. Shapes belong to Trips and consist of an encoded polyline for more efficient transmission.  Shapes do not need to intercept the location of Stops exactly, but all Stops on a trip should lie within a small distance of the shape for that trip, i.e. close to straight line segments connecting the shape points\n \n-**Caution:** this message is still **experimental**, and subject to change. It may be formally adopted in the future.<br>.\n+**Fields**\n+\n+| _**Field Name**_ | _**Type**_ | _**Required**_ | _**Cardinality**_ | _**Description**_ |\n+|------------------|------------|----------------|-------------------|-------------------|\n+| **shape_id** | [string](https:\/\/developers.google.com\/protocol-buffers\/docs\/proto#scalar) | Required | One |  Identifier of the shape. Must be different than any `shape_id` defined in the (CSV) GTFS. |\n+| **encoded_polyline** | [string](https:\/\/developers.google.com\/protocol-buffers\/docs\/proto#scalar) | Required | One | Encoded polyline representation of the shape. This polyline must contain at least two points. For more information about encoded polylines, see https:\/\/developers.google.com\/maps\/documentation\/utilities\/polylinealgorithm|\n+\n+## _message_ Stop\n+\n+Represent a new Stop added to the feed dynamically. All fields are as described in the (CSV) GTFS specification. Location type of the new stop is assumed to be `0` (routable stop). ",
    "path":"gtfs-realtime\/spec\/en\/reference.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I agree, will change. ",
    "created_at":"2023-10-04T13:55:38Z",
    "updated_at":"2023-10-04T13:55:38Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345841479",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345841479"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345841479"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345841479\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":575,
    "side":"RIGHT",
    "original_position":28,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1345460745.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345843876",
    "pull_request_review_id":1657607660,
    "id":1345843876,
    "node_id":"PRRC_kwDOAlVrjc5QN_Kk",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"b2bfcf5994e53d3f0503ed704d2126b46d7321c7",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Yes, I think this goes a bit with the backward compatibility discussion we had before and could be improved. Other ids having underscore should not create problem however since there's no need of parsing the id after it's been created. ",
    "created_at":"2023-10-04T13:56:54Z",
    "updated_at":"2023-10-04T13:56:54Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345843876",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345843876"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1345843876"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1345843876\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":1090,
    "side":"RIGHT",
    "original_position":93,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1345477985.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1355807077",
    "pull_request_review_id":1672635501,
    "id":1355807077,
    "node_id":"PRRC_kwDOAlVrjc5Qz_ll",
    "diff_hunk":"",
    "path":"gtfs\/spec\/en\/reference.md",
    "commit_id":"1f6c4632da779c8a3be2c4192a6bb238e1ef1dc4",
    "original_commit_id":"2efafbfe2b91e0b99313df2391adb3fbc9121861",
    "user":{
      "login":"tsherlockcraig",
      "id":7597236,
      "node_id":"MDQ6VXNlcjc1OTcyMzY=",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/7597236?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/tsherlockcraig",
      "html_url":"https:\/\/github.com\/tsherlockcraig",
      "followers_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/followers",
      "following_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/repos",
      "events_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/tsherlockcraig\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Suggestion, add additional text  in line 259: \"On-demand service within locations and stop areas should be referenced in the sequence in which service is available in those areas. A data consumer should assume that a rider picked up in one location can be dropped off at any stop or in any location later in the trip, pursuant to the pickup\/drop_off_type of those stop_times and the time constraints of each start\/end_pickup_drop_off_window.\"",
    "created_at":"2023-10-11T21:33:30Z",
    "updated_at":"2023-10-11T21:33:30Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/388#discussion_r1355807077",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/388",
    "author_association":"NONE",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1355807077"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/388#discussion_r1355807077"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/388"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1355807077\/reactions",
      "total_count":5,
      "+1":5,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1.0,
    "original_line":1,
    "side":"RIGHT",
    "original_position":1,
    "position":1,
    "subject_type":"file",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1356387499",
    "pull_request_review_id":1673460241,
    "id":1356387499,
    "node_id":"PRRC_kwDOAlVrjc5Q2NSr",
    "diff_hunk":"",
    "path":"gtfs\/spec\/en\/reference.md",
    "commit_id":"1f6c4632da779c8a3be2c4192a6bb238e1ef1dc4",
    "original_commit_id":"2efafbfe2b91e0b99313df2391adb3fbc9121861",
    "user":{
      "login":"leonardehrenfried",
      "id":151346,
      "node_id":"MDQ6VXNlcjE1MTM0Ng==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/151346?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/leonardehrenfried",
      "html_url":"https:\/\/github.com\/leonardehrenfried",
      "followers_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/followers",
      "following_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/repos",
      "events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/leonardehrenfried\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I like this. As said elsewhere I had assumed that this is the case and I'm glad that this clarifies it.",
    "created_at":"2023-10-12T07:28:29Z",
    "updated_at":"2023-10-12T07:28:29Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/388#discussion_r1356387499",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/388",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1356387499"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/388#discussion_r1356387499"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/388"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1356387499\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1.0,
    "original_line":1,
    "side":"RIGHT",
    "original_position":1,
    "position":1,
    "subject_type":"file",
    "in_reply_to_id":1355807077.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1356846383",
    "pull_request_review_id":1674211439,
    "id":1356846383,
    "node_id":"PRRC_kwDOAlVrjc5Q39Uv",
    "diff_hunk":"",
    "path":"gtfs\/spec\/en\/reference.md",
    "commit_id":"1f6c4632da779c8a3be2c4192a6bb238e1ef1dc4",
    "original_commit_id":"2efafbfe2b91e0b99313df2391adb3fbc9121861",
    "user":{
      "login":"tzujenchanmbd",
      "id":126435471,
      "node_id":"U_kgDOB4lAjw",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/126435471?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/tzujenchanmbd",
      "html_url":"https:\/\/github.com\/tzujenchanmbd",
      "followers_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/followers",
      "following_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/repos",
      "events_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/tzujenchanmbd\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Thanks! commit pushed - https:\/\/github.com\/google\/transit\/pull\/388\/commits\/d69e1574257cc0e839f05678b0adb52d734bdd4f\r\n\r\nNote: related to [mobilitydata\/gtfs-flex issue#76](https:\/\/github.com\/MobilityData\/gtfs-flex\/issues\/76)\r\n\r\nContent here may be modified once we got consensus on [issue#398](https:\/\/github.com\/google\/transit\/issues\/398)",
    "created_at":"2023-10-12T13:41:25Z",
    "updated_at":"2023-10-12T13:41:26Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/388#discussion_r1356846383",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/388",
    "author_association":"COLLABORATOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1356846383"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/388#discussion_r1356846383"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/388"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1356846383\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1.0,
    "original_line":1,
    "side":"RIGHT",
    "original_position":1,
    "position":1,
    "subject_type":"file",
    "in_reply_to_id":1355807077.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1362600774",
    "pull_request_review_id":1683111408,
    "id":1362600774,
    "node_id":"PRRC_kwDOAlVrjc5RN6NG",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"bdferris-v2",
      "id":26211219,
      "node_id":"MDQ6VXNlcjI2MjExMjE5",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/26211219?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/bdferris-v2",
      "html_url":"https:\/\/github.com\/bdferris-v2",
      "followers_url":"https:\/\/api.github.com\/users\/bdferris-v2\/followers",
      "following_url":"https:\/\/api.github.com\/users\/bdferris-v2\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/bdferris-v2\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/bdferris-v2\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/bdferris-v2\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/bdferris-v2\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/bdferris-v2\/repos",
      "events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Is this intended to be the shape of just the modified portion of the trip or the entire trip?",
    "created_at":"2023-10-17T18:35:18Z",
    "updated_at":"2023-10-17T18:35:19Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1362600774",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1362600774"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1362600774"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1362600774\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":1099,
    "side":"RIGHT",
    "original_position":102,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1362601657",
    "pull_request_review_id":1683112852,
    "id":1362601657,
    "node_id":"PRRC_kwDOAlVrjc5RN6a5",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"npaun",
      "id":5041416,
      "node_id":"MDQ6VXNlcjUwNDE0MTY=",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/5041416?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/npaun",
      "html_url":"https:\/\/github.com\/npaun",
      "followers_url":"https:\/\/api.github.com\/users\/npaun\/followers",
      "following_url":"https:\/\/api.github.com\/users\/npaun\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/npaun\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/npaun\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/npaun\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/npaun\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/npaun\/repos",
      "events_url":"https:\/\/api.github.com\/users\/npaun\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/npaun\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"The shape will be used for the entire trip.",
    "created_at":"2023-10-17T18:36:13Z",
    "updated_at":"2023-10-17T18:36:13Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1362601657",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1362601657"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1362601657"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1362601657\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":1099,
    "side":"RIGHT",
    "original_position":102,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1362600774.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365575606",
    "pull_request_review_id":1687773487,
    "id":1365575606,
    "node_id":"PRRC_kwDOAlVrjc5RZQe2",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.\n+* If no such TripUpdate is found, TripUpdates for the original `trip_id` will apply to the modified trip. In this case, no ETA is available at the replacement stops.\n+\n+##  Modification\n+\n+A `Modification` message replaces a span of n stop times (`num_stops_replaced`) from each affected trip starting at `start_stop_sequence`. The spans of the modifications MUST not overlap. Spans may not be contiguous; in this case the two modifications MUST be merged into one.  These stop times are replaced with a new stop time for each replacement stop described by `replacement_stops`.\n+\n+The sequence of `replacement_stops` may be of arbitrary length. For example, 3 stops could be replaced by 2, 4, or 0 stops as the situation may require.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"~question: how does providing a `TripUpdate` for the new stops work?~\r\n\r\n~In all of the examples, you're skipping X stops, and replacing them with < X detoured stops: this means the `stop_sequence` values for future stops do not need to change. What happens if there are > X detoured stops?~\r\n\r\n~For example: a normal trip A: 1 -> 2 -> 3 -> 4 -> 5. We detour of stop 3, replacing it with 3a and 3b via a `TripModification`. How is this represented in a `TripUpdate` for trip A (or modification_A)?~\r\n\r\nSince this is a new trip, the `stop_sequence` values do not need to align with the original GTFS trip. Might be worth adding a note about that, or modifying the examples such that this case is covered.",
    "created_at":"2023-10-19T13:48:07Z",
    "updated_at":"2023-10-19T14:07:21Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365575606",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365575606"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365575606"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365575606\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":37.0,
    "original_line":29,
    "side":"RIGHT",
    "original_position":29,
    "position":37,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365584879",
    "pull_request_review_id":1687773487,
    "id":1365584879,
    "node_id":"PRRC_kwDOAlVrjc5RZSvv",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"question: is the `SHOULD` about providing a `TripUpdate` or about the modified ID format? Could a `TripUpdate` be provided with a different trip ID?\r\n\r\nMaybe clearer would be:\r\n```suggestion\r\n* A replacement TripUpdate SHOULD be provided. If such a TripUpdate is provided, it MUST use the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.\r\n```",
    "created_at":"2023-10-19T13:52:51Z",
    "updated_at":"2023-10-19T14:07:21Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365584879",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365584879"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365584879"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365584879\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":22,
    "side":"RIGHT",
    "original_position":22,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365595723",
    "pull_request_review_id":1687773487,
    "id":1365595723,
    "node_id":"PRRC_kwDOAlVrjc5RZVZL",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"question: what should the `scheduleRelationship` be for the modified trip? It looks like it's `SCHEDULED` in the Swiftly feeds, but given that it's not representing a true GTFS trip, maybe it should be `ADDED` or `DUPLICATED` instead?",
    "created_at":"2023-10-19T13:58:53Z",
    "updated_at":"2023-10-19T14:07:21Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365595723",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365595723"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365595723"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365595723\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":22,
    "side":"RIGHT",
    "original_position":22,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365602974",
    "pull_request_review_id":1687773487,
    "id":1365602974,
    "node_id":"PRRC_kwDOAlVrjc5RZXKe",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"```suggestion\r\n  required TranslatedString stop_name = 3;\r\n  optional TranslatedString tts_stop_name = 4;\r\n  optional TranslatedString stop_desc = 5;\r\n  required float stop_lat = 6;\r\n  required float stop_lon = 7;\r\n```\r\nsuggestion: since https:\/\/github.com\/google\/transit\/pull\/403\/files#diff-abc780f2e1f0fd946abf169b0bb5d5ed06c33c695a028c7119043c0584eb7759R56 indicates this is a `location_type` 0 stop, it must have `stop_name`, `stop_lat`, and `stop_lon`.\r\n",
    "created_at":"2023-10-19T14:03:36Z",
    "updated_at":"2023-10-19T14:07:21Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365602974",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365602974"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365602974"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365602974\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":1059.0,
    "original_start_line":1044.0,
    "start_side":"RIGHT",
    "line":1063.0,
    "original_line":1048,
    "side":"RIGHT",
    "original_position":51,
    "position":45,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365605464",
    "pull_request_review_id":1687773487,
    "id":1365605464,
    "node_id":"PRRC_kwDOAlVrjc5RZXxY",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"question: how does this combine with `arrival_time` `departure_time` provided in a `TripUpdate`? Is this added to those times to get the true value, or should future times, if present, take this value into account?",
    "created_at":"2023-10-19T14:05:18Z",
    "updated_at":"2023-10-19T14:07:21Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365605464",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365605464"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365605464"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365605464\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":1075,
    "side":"RIGHT",
    "original_position":78,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365674486",
    "pull_request_review_id":1687951656,
    "id":1365674486,
    "node_id":"PRRC_kwDOAlVrjc5RZon2",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"That would be a bad idea because required is forever (see [proto docs](https:\/\/protobuf.dev\/programming-guides\/proto2\/#specifying-rules)). If we eventually want to allow more `location_type`, we can't make any of those fields optional.  ",
    "created_at":"2023-10-19T14:45:52Z",
    "updated_at":"2023-10-19T14:45:52Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365674486",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365674486"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365674486"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365674486\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":1059.0,
    "original_start_line":1044.0,
    "start_side":"RIGHT",
    "line":1063.0,
    "original_line":1048,
    "side":"RIGHT",
    "original_position":51,
    "position":45,
    "subject_type":"line",
    "in_reply_to_id":1365602974.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365676787",
    "pull_request_review_id":1687956990,
    "id":1365676787,
    "node_id":"PRRC_kwDOAlVrjc5RZpLz",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"However I see the reference.md doesn't reflect that they should be Required, I'll update this. ",
    "created_at":"2023-10-19T14:47:25Z",
    "updated_at":"2023-10-19T14:47:25Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365676787",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365676787"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365676787"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365676787\/reactions",
      "total_count":2,
      "+1":1,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":1,
      "eyes":0
    },
    "start_line":1059.0,
    "original_start_line":1044.0,
    "start_side":"RIGHT",
    "line":1063.0,
    "original_line":1048,
    "side":"RIGHT",
    "original_position":51,
    "position":45,
    "subject_type":"line",
    "in_reply_to_id":1365602974.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365837582",
    "pull_request_review_id":1688207396,
    "id":1365837582,
    "node_id":"PRRC_kwDOAlVrjc5RaQcO",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"sam-hickey-arcadis",
      "id":18727199,
      "node_id":"MDQ6VXNlcjE4NzI3MTk5",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/18727199?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis",
      "html_url":"https:\/\/github.com\/sam-hickey-arcadis",
      "followers_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/followers",
      "following_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/repos",
      "events_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/sam-hickey-arcadis\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"See comment about rail shuttles here: https:\/\/github.com\/google\/transit\/pull\/403#issuecomment-1769581436. I think restricting modifications to have just a single replacement trip will prevent using this spec change for communicating useful info about rail shuttles.",
    "created_at":"2023-10-19T16:39:44Z",
    "updated_at":"2023-10-19T16:39:44Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365837582",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365837582"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1365837582"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1365837582\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":22,
    "side":"RIGHT",
    "original_position":22,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1365584879.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366048506",
    "pull_request_review_id":1688552823,
    "id":1366048506,
    "node_id":"PRRC_kwDOAlVrjc5RbD76",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.\n+* If no such TripUpdate is found, TripUpdates for the original `trip_id` will apply to the modified trip. In this case, no ETA is available at the replacement stops.\n+\n+##  Modification\n+\n+A `Modification` message replaces a span of n stop times (`num_stops_replaced`) from each affected trip starting at `start_stop_sequence`. The spans of the modifications MUST not overlap. Spans may not be contiguous; in this case the two modifications MUST be merged into one.  These stop times are replaced with a new stop time for each replacement stop described by `replacement_stops`.\n+\n+The sequence of `replacement_stops` may be of arbitrary length. For example, 3 stops could be replaced by 2, 4, or 0 stops as the situation may require.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"That's why we specify a new trip_id to be used in the TripUpdates, to be able to specify real time updates for those new stops. \r\n\r\nIf the TU refers to the previous trip_id, then we use the reference from `stop_sequence` from the trip before modification. If the TU refers to the new modified trip,  then we use the reference from `stop_sequence` from the trip with modifications. I'll propose a clarifying text. ",
    "created_at":"2023-10-19T20:03:26Z",
    "updated_at":"2023-10-19T20:03:27Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366048506",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366048506"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366048506"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366048506\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":37.0,
    "original_line":29,
    "side":"RIGHT",
    "original_position":29,
    "position":37,
    "subject_type":"line",
    "in_reply_to_id":1365575606.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366050684",
    "pull_request_review_id":1688556326,
    "id":1366050684,
    "node_id":"PRRC_kwDOAlVrjc5RbEd8",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"SHOULD here refers to using the new modified trip_id. It can still be provided using the old unmodified trip_id but you loose the ability to refers to added stops in those updates. See also answer to [previous message](https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366048506)",
    "created_at":"2023-10-19T20:05:58Z",
    "updated_at":"2023-10-19T20:05:58Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366050684",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366050684"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366050684"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366050684\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":22,
    "side":"RIGHT",
    "original_position":22,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1365584879.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366051302",
    "pull_request_review_id":1688557424,
    "id":1366051302,
    "node_id":"PRRC_kwDOAlVrjc5RbEnm",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"When a trip is modified with a Modification, it should behave as-if the static GTFS was updated. So `SCHEDULED` is the right relationship to use. ",
    "created_at":"2023-10-19T20:06:45Z",
    "updated_at":"2023-10-19T20:06:45Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366051302",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366051302"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366051302"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366051302\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":22,
    "side":"RIGHT",
    "original_position":22,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1365595723.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366052314",
    "pull_request_review_id":1688559068,
    "id":1366052314,
    "node_id":"PRRC_kwDOAlVrjc5RbE3a",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Similar to previous comment, it should behave as-if the static GTFS was updated. So if a delay is provided in the TU, it should take into account the `propagated_modification_delay` _if_ it refers to the new trip_id. I can see how that's confusing, I'll try to rephrase. ",
    "created_at":"2023-10-19T20:07:57Z",
    "updated_at":"2023-10-19T20:07:57Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366052314",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366052314"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1366052314"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1366052314\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":1075,
    "side":"RIGHT",
    "original_position":78,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1365605464.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368942494",
    "pull_request_review_id":1692988062,
    "id":1368942494,
    "node_id":"PRRC_kwDOAlVrjc5RmGee",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I pushed some clarification https:\/\/github.com\/google\/transit\/pull\/403\/commits\/9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "created_at":"2023-10-23T16:21:34Z",
    "updated_at":"2023-10-23T16:21:34Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368942494",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368942494"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368942494"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368942494\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":1075,
    "side":"RIGHT",
    "original_position":78,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1365605464.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368943456",
    "pull_request_review_id":1692989558,
    "id":1368943456,
    "node_id":"PRRC_kwDOAlVrjc5RmGtg",
    "diff_hunk":"@@ -0,0 +1,57 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run.\n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. Stop sequences are assigned from 1 to n, increasing by 1 for each stop in the trip. A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). The TripUpdate MAY provide an ETA at the replacement stops.\n+* If no such TripUpdate is found, TripUpdates for the original `trip_id` will apply to the modified trip. In this case, no ETA is available at the replacement stops.\n+\n+##  Modification\n+\n+A `Modification` message replaces a span of n stop times (`num_stops_replaced`) from each affected trip starting at `start_stop_sequence`. The spans of the modifications MUST not overlap. Spans may not be contiguous; in this case the two modifications MUST be merged into one.  These stop times are replaced with a new stop time for each replacement stop described by `replacement_stops`.\n+\n+The sequence of `replacement_stops` may be of arbitrary length. For example, 3 stops could be replaced by 2, 4, or 0 stops as the situation may require.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"52d4064f27f324c450b6fb0462757c297b115c64",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Clarification here I pushed some clarification https:\/\/github.com\/google\/transit\/pull\/403\/commits\/9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "created_at":"2023-10-23T16:22:29Z",
    "updated_at":"2023-10-23T16:22:29Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368943456",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368943456"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368943456"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368943456\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":37.0,
    "original_line":29,
    "side":"RIGHT",
    "original_position":29,
    "position":37,
    "subject_type":"line",
    "in_reply_to_id":1365575606.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368978525",
    "pull_request_review_id":1693045603,
    "id":1368978525,
    "node_id":"PRRC_kwDOAlVrjc5RmPRd",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;\n+\n+  \/\/ A list of modifications to apply to the affected trips. \n+  repeated Modification modifications = 5; \n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message ReplacementStop {\n+  \/\/ The difference in seconds between the arrival time at this stop and the arrival time at the reference stop. The reference stop is the stop prior to start_stop_sequence. If the modification begins at the first stop of the trip, then the first stop of the trip is the reference stop.\n+  \/\/ This value MUST be monotonically increasing and may only be a negative number if the first stop of the original trip is the reference stop.\n+  optional int32 travel_time_to_stop = 1;\n+\n+  \/\/ The replacement stop ID which will now be visited by the trip. May refer to a new stop added using a GTFS-RT Stop message, or to an existing stop defined in the GTFS-Static feed\u2019s stops.txt. The stop MUST have location_type=0 (routable stops).\n+  optional string stop_id = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"question: should this include a stop sequence? I would think it's unlikely, but this doesn't make it possible to represent a detour which is a loop, at least not without the consumer making some assumptions about the travel time \/ stop ID mapping. Since each trip is defined as having the same stopping sequence, it should be possible to define a unique `stop_sequence` value.",
    "created_at":"2023-10-23T16:51:22Z",
    "updated_at":"2023-10-23T17:13:23Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368978525",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368978525"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368978525"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368978525\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1182.0,
    "original_line":1119,
    "side":"RIGHT",
    "original_position":122,
    "position":164,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368984924",
    "pull_request_review_id":1693045603,
    "id":1368984924,
    "node_id":"PRRC_kwDOAlVrjc5RmQ1c",
    "diff_hunk":"@@ -556,11 +563,94 @@ A localized image URL mapped to a language.\n \n Describes the physical path that a vehicle takes when the shape is not part of the (CSV) GTFS, such as for an ad-hoc detour. Shapes belong to Trips and consist of an encoded polyline for more efficient transmission.  Shapes do not need to intercept the location of Stops exactly, but all Stops on a trip should lie within a small distance of the shape for that trip, i.e. close to straight line segments connecting the shape points\n \n-**Caution:** this message is still **experimental**, and subject to change. It may be formally adopted in the future.<br>.\n+**Fields**\n+\n+| _**Field Name**_ | _**Type**_ | _**Required**_ | _**Cardinality**_ | _**Description**_ |\n+|------------------|------------|----------------|-------------------|-------------------|\n+| **shape_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  Identifier of the shape. Must be different than any `shape_id` defined in the (CSV) GTFS. |\n+| **encoded_polyline** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One | Encoded polyline representation of the shape. This polyline must contain at least two points. For more information about encoded polylines, see https:\/\/developers.google.com\/maps\/documentation\/utilities\/polylinealgorithm|\n+\n+## _message_ Stop\n+\n+Represents a new Stop added to the feed dynamically. All fields are as described in the (CSV) GTFS specification. The location type of the new stop is `0` (routable stop). \n+\n+**Fields**\n+\n+| _**Field Name**_ | _**Type**_ | _**Required**_ | _**Cardinality**_ | _**Description**_ |\n+|------------------|------------|----------------|-------------------|-------------------|\n+| **stop_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  Identifier of the shape. Must be different than any `stop_id` defined in the (CSV) GTFS. |\n+| **stop_code** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.stop_code](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_name** | [TranslatedString](#message-translatedstring) | Required | One |  See definition of [stops.stop_name](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **tts_stop_name** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.tts_stop_name](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_desc** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.stop_desc](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_lat** | [float](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  See definition of [stops.stop_lat](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_lon** | [float](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  See definition of [stops.stop_lon](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **zone_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.zone_id](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_url** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.stop_url](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **parent_station** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.parent_station](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_timezone** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.stop_timezone](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **wheelchair_boarding** | [WheelchairBoarding](#enum-wheelchairboarding) | Optional | One |  See definition of [stops.wheelchair_boarding](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **level_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.level_id](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **platform_code** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.platform_code](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+\n+## _enum_ WheelchairBoarding\n+\n+**Values**\n+\n+| _**Value**_ | _**Comment**_ |\n+|-------------|---------------|\n+| **UNKNOWN** | No accessibility information for the stop. |\n+| **AVAILABLE** |  Some vehicles at this stop can be boarded by a rider in a wheelchair. |\n+| **NOT_AVAILABLE** | Wheelchair boarding is not possible at this stop. |\n+\n+## _message_ TripModifications\n+\n+A `TripModifications` message identifies a list of similar trips which are all affected by a particular modification, such as a detour.\n+ \n+[More about Trip Modifications...](trip-modifications.md)\n+\n+**Fields**\n+\n+| _**Field Name**_ | _**Type**_ | _**Required**_ | _**Cardinality**_ | _**Description**_ |\n+|------------------|------------|----------------|-------------------|-------------------|\n+| **modifications_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One | An arbitrary string to identify this detour. The `modifications_id` MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating `modifications_id` + \u2018_\u2019 + `trip_id`. |",
    "path":"gtfs-realtime\/spec\/en\/reference.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"```suggestion\r\n| **modifications_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One | An arbitrary string to identify this detour. The `modifications_id` MUST be unique for all currently active detours. The ID of each replacement trip MUST be generated by concatenating `modifications_id` + \u2018_\u2019 + `trip_id`. |\r\n```",
    "created_at":"2023-10-23T16:56:40Z",
    "updated_at":"2023-10-23T17:13:23Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368984924",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368984924"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368984924"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368984924\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":616,
    "side":"RIGHT",
    "original_position":69,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368993334",
    "pull_request_review_id":1693045603,
    "id":1368993334,
    "node_id":"PRRC_kwDOAlVrjc5RmS42",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modification are applied on the schedule information, like if a static GTFS (CSV) was modified. \n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. `stop_sequence` for all stop times are replaced by a new value of 1 to n, starting with 1 on the first stop_time and increasing by 1 for each stop in the trip. The trip ID is also replaced by a replacement trip ID (`modifications_id` + `_` + `trip_id`). A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). ",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"suggestion: to me, this is still confusing about whether the SHOULD applies to providing a TripUpdate or the trip ID format. Given the other locations which seem to indicate that the trip ID format is a MUST, this could be split into two sentences.",
    "created_at":"2023-10-23T17:03:38Z",
    "updated_at":"2023-10-23T17:13:23Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368993334",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368993334"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368993334"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368993334\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":22,
    "side":"RIGHT",
    "original_position":22,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368996166",
    "pull_request_review_id":1693045603,
    "id":1368996166,
    "node_id":"PRRC_kwDOAlVrjc5RmTlG",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"question: these two sentences appear to contradict each other.\r\n- if it's not possible for a trip to have multiple `TripModification`s applied to it, is this saying that a single trip can only have one detour?\r\n- if it is possible for a trip to have multiple `TripModification`s applied to it, how is the modified ID generated?\r\n\r\nAdditionally, https:\/\/github.com\/google\/transit\/pull\/403\/files#diff-a1a14af3b4aed7d10a3b167231b52fdb483cf71b88f1655ed2e28bccd18800ceR1074 refers to multiple `TripModification`s applying to a single trip, so either this or that should be updated.",
    "created_at":"2023-10-23T17:06:37Z",
    "updated_at":"2023-10-23T17:13:23Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368996166",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368996166"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1368996166"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1368996166\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":11.0,
    "start_side":"RIGHT",
    "line":null,
    "original_line":13,
    "side":"RIGHT",
    "original_position":13,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369003435",
    "pull_request_review_id":1693045603,
    "id":1369003435,
    "node_id":"PRRC_kwDOAlVrjc5RmVWr",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modification are applied on the schedule information, like if a static GTFS (CSV) was modified. \n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. `stop_sequence` for all stop times are replaced by a new value of 1 to n, starting with 1 on the first stop_time and increasing by 1 for each stop in the trip. The trip ID is also replaced by a replacement trip ID (`modifications_id` + `_` + `trip_id`). A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). \n+    * When the TripUpdate refers to the replacement trip ID, the consumer should behave as if the static GTFS would have been modified with the TripModifications (e.g. `arrival_time`, `departure_time`, `stop_sequence`, `stop_id` on replacement stops)\n+    * Providing a TripUpdate with the replacement trip ID is the only way to create predictions at replacement stops\n+* If no such TripUpdate is found, TripUpdates for the original `trip_id` will apply to the modified trip. \n+    * In this case, the static GTFS information used should be from the static GTFS before any TripModifications applied. \n+    * Real time can be available to the common stops between the previous trip and the new modified trip, no ETA is available at the replacement stops.\n+\n+##  Modification\n+\n+A `Modification` message replaces a span of n stop times (`num_stops_replaced`) from each affected trip starting at `start_stop_sequence`. The spans of the modifications MUST not overlap. Spans may not be contiguous; in this case the two modifications MUST be merged into one.  These stop times are replaced with a new stop time for each replacement stop described by `replacement_stops`.\n+\n+The sequence of `replacement_stops` may be of arbitrary length. For example, 3 stops could be replaced by 2, 4, or 0 stops as the situation may require.\n+\n+![](images\/trip_modification.png)\n+\n+_An example showing the effect of a modification on a particular trip. This modification may also be applied to several other trips._\n+\n+![](images\/propagated_delay.png)\n+\n+_Propagated detour delays affect all stops following the end of a modification. If a trip has multiple modifications, the delays are accumulated._",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"suggestion: This also mentions a trip with multiple modifications.",
    "created_at":"2023-10-23T17:13:19Z",
    "updated_at":"2023-10-23T17:13:23Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369003435",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369003435"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369003435"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369003435\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":45.0,
    "original_line":41,
    "side":"RIGHT",
    "original_position":41,
    "position":45,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369071239",
    "pull_request_review_id":1693197975,
    "id":1369071239,
    "node_id":"PRRC_kwDOAlVrjc5Rml6H",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;\n+\n+  \/\/ A list of modifications to apply to the affected trips. \n+  repeated Modification modifications = 5; \n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message ReplacementStop {\n+  \/\/ The difference in seconds between the arrival time at this stop and the arrival time at the reference stop. The reference stop is the stop prior to start_stop_sequence. If the modification begins at the first stop of the trip, then the first stop of the trip is the reference stop.\n+  \/\/ This value MUST be monotonically increasing and may only be a negative number if the first stop of the original trip is the reference stop.\n+  optional int32 travel_time_to_stop = 1;\n+\n+  \/\/ The replacement stop ID which will now be visited by the trip. May refer to a new stop added using a GTFS-RT Stop message, or to an existing stop defined in the GTFS-Static feed\u2019s stops.txt. The stop MUST have location_type=0 (routable stops).\n+  optional string stop_id = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"In the modified trip, we create new `stop_sequence` for that trip. See [here](https:\/\/github.com\/google\/transit\/pull\/403\/files\/9a0d6d5e9c790c2f22a88809a2993a9c2c14077d#diff-abc780f2e1f0fd946abf169b0bb5d5ed06c33c695a028c7119043c0584eb7759R17). \r\n\r\nHaving a separate `stop_sequence` in `ReplacementStop` could also be valid. Do you think it would be better? One big downside of this is that if the `stop_sequence` in the static GTFS is increasing by one at each stop_time it would mean you can't have a higher number of replacement stops than stops are cancelled. ",
    "created_at":"2023-10-23T18:08:20Z",
    "updated_at":"2023-10-23T18:08:20Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369071239",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369071239"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369071239"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369071239\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1182.0,
    "original_line":1119,
    "side":"RIGHT",
    "original_position":122,
    "position":164,
    "subject_type":"line",
    "in_reply_to_id":1368978525.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369087746",
    "pull_request_review_id":1693227114,
    "id":1369087746,
    "node_id":"PRRC_kwDOAlVrjc5Rmp8C",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"There can be multiple `TripModifications` for the same stop pattern, but only one `TripModifications` per trip per service date. As mentioned, the delays values can potentially be different enough to warrant different `TripModifications` if needed. Or you could have two different detours for the same route with the same stop patter during one day (for example, a rush hour detour and a detour outside of rush hour). \r\n\r\nI think there might be a confusion between `TripModifications` and `Modification`. A `TripModifications` applies on a list of trip and [can contains multiple](https:\/\/github.com\/google\/transit\/pull\/403\/files\/9a0d6d5e9c790c2f22a88809a2993a9c2c14077d#diff-a1a14af3b4aed7d10a3b167231b52fdb483cf71b88f1655ed2e28bccd18800ceR1102) `Modification`. A `Modification` applies on a range of stop in the selected trips. The names are indeed very similar, which might be confusing. ",
    "created_at":"2023-10-23T18:23:13Z",
    "updated_at":"2023-10-23T18:23:14Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369087746",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369087746"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369087746"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369087746\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":11.0,
    "start_side":"RIGHT",
    "line":null,
    "original_line":13,
    "side":"RIGHT",
    "original_position":13,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1368996166.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369087852",
    "pull_request_review_id":1693227239,
    "id":1369087852,
    "node_id":"PRRC_kwDOAlVrjc5Rmp9s",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modification are applied on the schedule information, like if a static GTFS (CSV) was modified. \n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. `stop_sequence` for all stop times are replaced by a new value of 1 to n, starting with 1 on the first stop_time and increasing by 1 for each stop in the trip. The trip ID is also replaced by a replacement trip ID (`modifications_id` + `_` + `trip_id`). A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates\n+\n+* A TripUpdate SHOULD be provided using the replacement trip ID (`modifications_id` + `_` + `trip_id`). \n+    * When the TripUpdate refers to the replacement trip ID, the consumer should behave as if the static GTFS would have been modified with the TripModifications (e.g. `arrival_time`, `departure_time`, `stop_sequence`, `stop_id` on replacement stops)\n+    * Providing a TripUpdate with the replacement trip ID is the only way to create predictions at replacement stops\n+* If no such TripUpdate is found, TripUpdates for the original `trip_id` will apply to the modified trip. \n+    * In this case, the static GTFS information used should be from the static GTFS before any TripModifications applied. \n+    * Real time can be available to the common stops between the previous trip and the new modified trip, no ETA is available at the replacement stops.\n+\n+##  Modification\n+\n+A `Modification` message replaces a span of n stop times (`num_stops_replaced`) from each affected trip starting at `start_stop_sequence`. The spans of the modifications MUST not overlap. Spans may not be contiguous; in this case the two modifications MUST be merged into one.  These stop times are replaced with a new stop time for each replacement stop described by `replacement_stops`.\n+\n+The sequence of `replacement_stops` may be of arbitrary length. For example, 3 stops could be replaced by 2, 4, or 0 stops as the situation may require.\n+\n+![](images\/trip_modification.png)\n+\n+_An example showing the effect of a modification on a particular trip. This modification may also be applied to several other trips._\n+\n+![](images\/propagated_delay.png)\n+\n+_Propagated detour delays affect all stops following the end of a modification. If a trip has multiple modifications, the delays are accumulated._",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Same as last comment",
    "created_at":"2023-10-23T18:23:17Z",
    "updated_at":"2023-10-23T18:23:18Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369087852",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369087852"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369087852"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369087852\/reactions",
      "total_count":1,
      "+1":1,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":45.0,
    "original_line":41,
    "side":"RIGHT",
    "original_position":41,
    "position":45,
    "subject_type":"line",
    "in_reply_to_id":1369003435.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369094947",
    "pull_request_review_id":1693238208,
    "id":1369094947,
    "node_id":"PRRC_kwDOAlVrjc5Rmrsj",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;\n+\n+  \/\/ A list of modifications to apply to the affected trips. \n+  repeated Modification modifications = 5; \n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message ReplacementStop {\n+  \/\/ The difference in seconds between the arrival time at this stop and the arrival time at the reference stop. The reference stop is the stop prior to start_stop_sequence. If the modification begins at the first stop of the trip, then the first stop of the trip is the reference stop.\n+  \/\/ This value MUST be monotonically increasing and may only be a negative number if the first stop of the original trip is the reference stop.\n+  optional int32 travel_time_to_stop = 1;\n+\n+  \/\/ The replacement stop ID which will now be visited by the trip. May refer to a new stop added using a GTFS-RT Stop message, or to an existing stop defined in the GTFS-Static feed\u2019s stops.txt. The stop MUST have location_type=0 (routable stops).\n+  optional string stop_id = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Yes, but if a `stop_id` appears twice in `ReplacementStop`, how do we know which `travel_time_to_stop` maps to which `StopTimeUpdate`? I'll try to put together an example.",
    "created_at":"2023-10-23T18:30:30Z",
    "updated_at":"2023-10-23T18:30:30Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369094947",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369094947"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369094947"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369094947\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1182.0,
    "original_line":1119,
    "side":"RIGHT",
    "original_position":122,
    "position":164,
    "subject_type":"line",
    "in_reply_to_id":1368978525.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369128365",
    "pull_request_review_id":1693295060,
    "id":1369128365,
    "node_id":"PRRC_kwDOAlVrjc5Rmz2t",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;\n+\n+  \/\/ A list of modifications to apply to the affected trips. \n+  repeated Modification modifications = 5; \n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message ReplacementStop {\n+  \/\/ The difference in seconds between the arrival time at this stop and the arrival time at the reference stop. The reference stop is the stop prior to start_stop_sequence. If the modification begins at the first stop of the trip, then the first stop of the trip is the reference stop.\n+  \/\/ This value MUST be monotonically increasing and may only be a negative number if the first stop of the original trip is the reference stop.\n+  optional int32 travel_time_to_stop = 1;\n+\n+  \/\/ The replacement stop ID which will now be visited by the trip. May refer to a new stop added using a GTFS-RT Stop message, or to an existing stop defined in the GTFS-Static feed\u2019s stops.txt. The stop MUST have location_type=0 (routable stops).\n+  optional string stop_id = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"\r\n<img width=\"858\" alt=\"Screenshot 2023-10-23 at 2 47 31 PM\" src=\"https:\/\/github.com\/google\/transit\/assets\/214921\/2226bd5c-f3ad-435b-ad06-8a223a3eae41\">\r\n\r\n\r\nGiven that stop F is used twice during the detour, how should we expect this to be represented?",
    "created_at":"2023-10-23T18:47:58Z",
    "updated_at":"2023-10-23T18:47:59Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369128365",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369128365"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369128365"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369128365\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1182.0,
    "original_line":1119,
    "side":"RIGHT",
    "original_position":122,
    "position":164,
    "subject_type":"line",
    "in_reply_to_id":1368978525.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369156466",
    "pull_request_review_id":1693350258,
    "id":1369156466,
    "node_id":"PRRC_kwDOAlVrjc5Rm6ty",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;\n+  optional string zone_id = 8;\n+  optional TranslatedString stop_url = 9;\n+  optional string parent_station = 11;\n+  optional string stop_timezone = 12;\n+  optional WheelchairBoarding wheelchair_boarding = 13 [default = UNKNOWN];\n+  optional string level_id = 14;\n+  optional TranslatedString platform_code = 15;\n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message TripModifications {\n+\tmessage Modification {\n+    \/\/ The first stop sequence of the original trip that is to be affected by this modification.\n+\t\toptional uint32 start_stop_sequence = 1;\n+\n+    \/\/ The number of stops which are canceled and replaced by the replacement_stops. May be zero to indicate no skipped stops.\n+\t\toptional uint32 num_stops_replaced = 2;\n+\n+    \/\/ The number of seconds of delay to add to all departure and arrival times following the end of this modification. If multiple modifications apply to the same trip, the delays accumulate as the trip advances. \n+\t\toptional int32 propagated_modification_delay = 3 [default = 0];\n+\n+    \/\/ A list of replacement stops, replacing those of the original trip. The length of the new stop times may be less, the same, or greater than the number of replaced stop times. \n+\t\trepeated ReplacementStop replacement_stops = 4;\n+\n+\t\t\/\/ The extensions namespace allows 3rd-party developers to extend the\n+\t\t\/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+\t\t\/\/ modifications to the spec.\n+\t\textensions 1000 to 1999;\n+\n+\t\t\/\/ The following extension IDs are reserved for private use by any organization.\n+\t\textensions 9000 to 9999;\n+\t}\n+\n+  \/\/ An arbitrary string to identify this detour. The modifications_id MUST be unique for all currently active detours. The ID of each replacement trip is generated by concatenating modifications_id + '_' + trip_id.\n+  required string modifications_id = 1;\n+\n+   \/\/ A list of trips affected by this detour. All trips linked by those trip_ids MUST have the same stop pattern. Two trips have the same stop pattern, if they visit the same stops in the same order, and have identical stop sequences.\n+  repeated string trip_ids = 2;\n+\n+  \/\/ Dates on which the detour occurs, in the YYYYMMDD format. Producers SHOULD only transmit detours occurring within the next week.\n+  repeated string service_dates = 3;\n+\n+  \/\/ The ID of the new shape for the modified trips. May refer to a new shape added using a GTFS-RT Shape message, or to an existing shape defined in the GTFS-Static feed\u2019s shapes.txt.\n+  optional string shape_id = 4;\n+\n+  \/\/ A list of modifications to apply to the affected trips. \n+  repeated Modification modifications = 5; \n+\n+  \/\/ The extensions namespace allows 3rd-party developers to extend the\n+  \/\/ GTFS Realtime Specification in order to add and evaluate new features and\n+  \/\/ modifications to the spec.\n+  extensions 1000 to 1999;\n+\n+  \/\/ The following extension IDs are reserved for private use by any organization.\n+  extensions 9000 to 9999;\n+}\n+\n+message ReplacementStop {\n+  \/\/ The difference in seconds between the arrival time at this stop and the arrival time at the reference stop. The reference stop is the stop prior to start_stop_sequence. If the modification begins at the first stop of the trip, then the first stop of the trip is the reference stop.\n+  \/\/ This value MUST be monotonically increasing and may only be a negative number if the first stop of the original trip is the reference stop.\n+  optional int32 travel_time_to_stop = 1;\n+\n+  \/\/ The replacement stop ID which will now be visited by the trip. May refer to a new stop added using a GTFS-RT Stop message, or to an existing stop defined in the GTFS-Static feed\u2019s stops.txt. The stop MUST have location_type=0 (routable stops).\n+  optional string stop_id = 2;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"In this example in the Modification, the `replacement_stops` is an ordered list so the order is defined there. Exactly like you did in the `replacement_stops` list on the right of the image. \r\n\r\nTo target the F stop within a TripUpdate, you would have to use a `stop_sequence` of 3 or 6 in the `StopTimeUpdate`. \r\n",
    "created_at":"2023-10-23T19:05:36Z",
    "updated_at":"2023-10-23T19:05:36Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369156466",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369156466"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369156466"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369156466\/reactions",
      "total_count":1,
      "+1":1,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1182.0,
    "original_line":1119,
    "side":"RIGHT",
    "original_position":122,
    "position":164,
    "subject_type":"line",
    "in_reply_to_id":1368978525.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369163377",
    "pull_request_review_id":1693361196,
    "id":1369163377,
    "node_id":"PRRC_kwDOAlVrjc5Rm8Zx",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"Ah yes, that is a bit confusing, but it does make a lot of my questions go away. I think there are some other copy edits which might make it clearer that I'll go through and add.",
    "created_at":"2023-10-23T19:12:31Z",
    "updated_at":"2023-10-23T19:12:31Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369163377",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369163377"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369163377"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369163377\/reactions",
      "total_count":1,
      "+1":1,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":11.0,
    "start_side":"RIGHT",
    "line":null,
    "original_line":13,
    "side":"RIGHT",
    "original_position":13,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":1368996166.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369166029",
    "pull_request_review_id":1693365555,
    "id":1369166029,
    "node_id":"PRRC_kwDOAlVrjc5Rm9DN",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"```suggestion\r\nThe `TripModifications` is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\r\n```",
    "created_at":"2023-10-23T19:15:31Z",
    "updated_at":"2023-10-23T19:20:27Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369166029",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369166029"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369166029"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369166029\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":11,
    "side":"RIGHT",
    "original_position":11,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369168078",
    "pull_request_review_id":1693365555,
    "id":1369168078,
    "node_id":"PRRC_kwDOAlVrjc5Rm9jO",
    "diff_hunk":"@@ -556,11 +563,94 @@ A localized image URL mapped to a language.\n \n Describes the physical path that a vehicle takes when the shape is not part of the (CSV) GTFS, such as for an ad-hoc detour. Shapes belong to Trips and consist of an encoded polyline for more efficient transmission.  Shapes do not need to intercept the location of Stops exactly, but all Stops on a trip should lie within a small distance of the shape for that trip, i.e. close to straight line segments connecting the shape points\n \n-**Caution:** this message is still **experimental**, and subject to change. It may be formally adopted in the future.<br>.\n+**Fields**\n+\n+| _**Field Name**_ | _**Type**_ | _**Required**_ | _**Cardinality**_ | _**Description**_ |\n+|------------------|------------|----------------|-------------------|-------------------|\n+| **shape_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  Identifier of the shape. Must be different than any `shape_id` defined in the (CSV) GTFS. |\n+| **encoded_polyline** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One | Encoded polyline representation of the shape. This polyline must contain at least two points. For more information about encoded polylines, see https:\/\/developers.google.com\/maps\/documentation\/utilities\/polylinealgorithm|\n+\n+## _message_ Stop\n+\n+Represents a new Stop added to the feed dynamically. All fields are as described in the (CSV) GTFS specification. The location type of the new stop is `0` (routable stop). \n+\n+**Fields**\n+\n+| _**Field Name**_ | _**Type**_ | _**Required**_ | _**Cardinality**_ | _**Description**_ |\n+|------------------|------------|----------------|-------------------|-------------------|\n+| **stop_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  Identifier of the shape. Must be different than any `stop_id` defined in the (CSV) GTFS. |\n+| **stop_code** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.stop_code](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_name** | [TranslatedString](#message-translatedstring) | Required | One |  See definition of [stops.stop_name](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **tts_stop_name** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.tts_stop_name](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_desc** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.stop_desc](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_lat** | [float](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  See definition of [stops.stop_lat](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_lon** | [float](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Required | One |  See definition of [stops.stop_lon](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **zone_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.zone_id](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_url** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.stop_url](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **parent_station** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.parent_station](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **stop_timezone** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.stop_timezone](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **wheelchair_boarding** | [WheelchairBoarding](#enum-wheelchairboarding) | Optional | One |  See definition of [stops.wheelchair_boarding](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **level_id** | [string](https:\/\/protobuf.dev\/programming-guides\/proto2\/#scalar) | Optional | One |  See definition of [stops.level_id](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+| **platform_code** | [TranslatedString](#message-translatedstring) | Optional | One |  See definition of [stops.platform_code](https:\/\/github.com\/google\/transit\/blob\/master\/gtfs\/spec\/en\/reference.md#stopstxt) in (CSV) GTFS. |\n+\n+## _enum_ WheelchairBoarding\n+\n+**Values**\n+\n+| _**Value**_ | _**Comment**_ |\n+|-------------|---------------|\n+| **UNKNOWN** | No accessibility information for the stop. |\n+| **AVAILABLE** |  Some vehicles at this stop can be boarded by a rider in a wheelchair. |\n+| **NOT_AVAILABLE** | Wheelchair boarding is not possible at this stop. |\n+\n+## _message_ TripModifications\n+\n+A `TripModifications` message identifies a list of similar trips which are all affected by a particular modification, such as a detour.",
    "path":"gtfs-realtime\/spec\/en\/reference.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"```suggestion\r\nA `TripModifications` message identifies a list of similar trips which are all affected by particular modifications, such as a detour.\r\n```",
    "created_at":"2023-10-23T19:17:30Z",
    "updated_at":"2023-10-23T19:20:27Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369168078",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369168078"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369168078"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369168078\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":608,
    "side":"RIGHT",
    "original_position":61,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369168980",
    "pull_request_review_id":1693365555,
    "id":1369168980,
    "node_id":"PRRC_kwDOAlVrjc5Rm9xU",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"```suggestion\r\nA `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by particular modifications, such as a detour.\r\n```",
    "created_at":"2023-10-23T19:18:29Z",
    "updated_at":"2023-10-23T19:20:27Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369168980",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369168980"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369168980"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369168980\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":3,
    "side":"RIGHT",
    "original_position":3,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369170038",
    "pull_request_review_id":1693365555,
    "id":1369170038,
    "node_id":"PRRC_kwDOAlVrjc5Rm-B2",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"question: not a copy edit, but is the expectation that this data does not live within a `TripUpdates` feed which updates more frequently, or only that the data itself is not changing even if the feed itself is?",
    "created_at":"2023-10-23T19:19:35Z",
    "updated_at":"2023-10-23T19:20:27Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369170038",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369170038"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369170038"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369170038\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":9.0,
    "original_line":7,
    "side":"RIGHT",
    "original_position":7,
    "position":9,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369170529",
    "pull_request_review_id":1693365555,
    "id":1369170529,
    "node_id":"PRRC_kwDOAlVrjc5Rm-Jh",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The modification is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modification are applied on the schedule information, like if a static GTFS (CSV) was modified. ",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"paulswartz",
      "id":214921,
      "node_id":"MDQ6VXNlcjIxNDkyMQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/214921?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/paulswartz",
      "html_url":"https:\/\/github.com\/paulswartz",
      "followers_url":"https:\/\/api.github.com\/users\/paulswartz\/followers",
      "following_url":"https:\/\/api.github.com\/users\/paulswartz\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/paulswartz\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/paulswartz\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/paulswartz\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/paulswartz\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/paulswartz\/repos",
      "events_url":"https:\/\/api.github.com\/users\/paulswartz\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/paulswartz\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"```suggestion\r\nThe trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modifications are applied on the schedule information, like if a static GTFS (CSV) was modified. \r\n```",
    "created_at":"2023-10-23T19:20:06Z",
    "updated_at":"2023-10-23T19:20:27Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369170529",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369170529"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369170529"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369170529\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":null,
    "original_line":15,
    "side":"RIGHT",
    "original_position":15,
    "position":1,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369210110",
    "pull_request_review_id":1693435062,
    "id":1369210110,
    "node_id":"PRRC_kwDOAlVrjc5RnHz-",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by a particular modification, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"9a0d6d5e9c790c2f22a88809a2993a9c2c14077d",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"We're not changing anything on the spec in regard on how feeds can contain multiple types of entities or not : [\"A feed may, although not required to, combine entities of different types.\"](https:\/\/github.com\/google\/transit\/pull\/403\/files#diff-90f282d10f519d763309d02a8161020994bcf89cfc6d45dabc6376e2b0c5492dR22) Swiftly merges TripModif with TripUpdates but we support any configuration. And yes, TripUpdates should update as frequently as needed and most likely will update more frequently than TripModifications. \r\n\r\nThis section is to \"manage expectations\" that consumer can't ingest that type of data in seconds like we do for all other types of RT feeds. It's inspired by [Service-Changes](https:\/\/docs.google.com\/document\/d\/1oPfQ6Xvui0g3xiy1pNiyu5cWFLhvrTVyvYsMVKGyGWM\/edit#heading=h.dk9syw20pc6j), but I'm not sure how required it is. \r\n\r\n",
    "created_at":"2023-10-23T20:04:33Z",
    "updated_at":"2023-10-23T20:04:33Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369210110",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369210110"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1369210110"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1369210110\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":9.0,
    "original_line":7,
    "side":"RIGHT",
    "original_position":7,
    "position":9,
    "subject_type":"line",
    "in_reply_to_id":1369170038.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1370949218",
    "pull_request_review_id":1696098329,
    "id":1370949218,
    "node_id":"PRRC_kwDOAlVrjc5RtwZi",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by particular modifications, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The `TripModifications` is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modifications are applied on the schedule information, like if a static GTFS (CSV) was modified. \n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. `stop_sequence` for all stop times are replaced by a new value of 1 to n, starting with 1 on the first stop_time and increasing by 1 for each stop in the trip. The trip ID is also replaced by a replacement trip ID (`modifications_id` + `_` + `trip_id`). A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"7a67845b660a743945b8d33eade139dabf0ffae5",
    "user":{
      "login":"bdferris-v2",
      "id":26211219,
      "node_id":"MDQ6VXNlcjI2MjExMjE5",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/26211219?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/bdferris-v2",
      "html_url":"https:\/\/github.com\/bdferris-v2",
      "followers_url":"https:\/\/api.github.com\/users\/bdferris-v2\/followers",
      "following_url":"https:\/\/api.github.com\/users\/bdferris-v2\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/bdferris-v2\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/bdferris-v2\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/bdferris-v2\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/bdferris-v2\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/bdferris-v2\/repos",
      "events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I had a question about the linkage to TripUpdates.  I recognize there has been some back-and-forth on this in the comments, based on feedback from IBI Group and others, and I'm reflecting on the behavior of what happens for consumers who haven't updated yet to support trip modifications.\r\n\r\nApologies if I missed this up-thread, but I'm guessing you considered (and discarded) the option to just supply a TripUpdate with the existing `trip_id` that includes updates for:\r\n* existing stops (no real change here)\r\n* new stops in the trip (with possibly a new StopTimeUpdate. ScheduleRelationship enum value)\r\n* skipped stops (either not mentioned at all or explicitly marking them SKIPPED)\r\n\r\nWhen I think about consumers who might be slow to support trip modifications directly, having the separate trip update with a modified trip id would require some level of modification processing.  On the other hand, if the trip id was the same, these consumers might be able to more gracefully fallback to still apply stop time updates to their existing concept of the trip and hide the skipped stops (assuming they support SKIPPED).\r\n\r\nI recognize `StopTimeUpdate.stop_sequence` indexing gets a bit murky here.",
    "created_at":"2023-10-24T23:42:14Z",
    "updated_at":"2023-10-24T23:42:14Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1370949218",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1370949218"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1370949218"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1370949218\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":22.0,
    "original_line":20,
    "side":"RIGHT",
    "original_position":20,
    "position":22,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1370951060",
    "pull_request_review_id":1696100639,
    "id":1370951060,
    "node_id":"PRRC_kwDOAlVrjc5Rtw2U",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"7a67845b660a743945b8d33eade139dabf0ffae5",
    "user":{
      "login":"bdferris-v2",
      "id":26211219,
      "node_id":"MDQ6VXNlcjI2MjExMjE5",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/26211219?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/bdferris-v2",
      "html_url":"https:\/\/github.com\/bdferris-v2",
      "followers_url":"https:\/\/api.github.com\/users\/bdferris-v2\/followers",
      "following_url":"https:\/\/api.github.com\/users\/bdferris-v2\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/bdferris-v2\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/bdferris-v2\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/bdferris-v2\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/bdferris-v2\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/bdferris-v2\/repos",
      "events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I'm not necessarily sure this is a good idea, but since you are using `TranslatedString` here (aka using GTFS-RT modeling concepts), would it make sense to use `Position` for the stop location as well?  I know that comes with additional fields that don't necessarily make sense for a stop and maybe that's enough to reject the idea, but I felt compelled to ask.",
    "created_at":"2023-10-24T23:45:54Z",
    "updated_at":"2023-10-24T23:45:54Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1370951060",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1370951060"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1370951060"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1370951060\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1063.0,
    "original_line":1048,
    "side":"RIGHT",
    "original_position":51,
    "position":45,
    "subject_type":"line",
    "in_reply_to_id":null
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1371900676",
    "pull_request_review_id":1697581334,
    "id":1371900676,
    "node_id":"PRRC_kwDOAlVrjc5RxYsE",
    "diff_hunk":"@@ -1033,3 +1030,99 @@ message Shape {\n   \/\/ The following extension IDs are reserved for private use by any organization.\n   extensions 9000 to 9999;\n }\n+\n+\/\/ Describes a stop which is served by trips. All fields are as described in the GTFS-Static specification.\n+message Stop {\n+  enum WheelchairBoarding {\n+    UNKNOWN = 0;\n+    AVAILABLE = 1;\n+    NOT_AVAILABLE = 2;\n+   }\n+\n+  required string stop_id = 1;\n+  optional TranslatedString stop_code = 2;\n+  optional TranslatedString stop_name = 3;\n+  optional TranslatedString tts_stop_name = 4;\n+  optional TranslatedString stop_desc = 5;\n+  optional float stop_lat = 6;\n+  optional float stop_lon = 7;",
    "path":"gtfs-realtime\/proto\/gtfs-realtime.proto",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"7a67845b660a743945b8d33eade139dabf0ffae5",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"I'm a neutral on this, I do see a small benefit and small chance of confusion if we do this",
    "created_at":"2023-10-25T14:49:24Z",
    "updated_at":"2023-10-25T14:49:24Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1371900676",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1371900676"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1371900676"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1371900676\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":1063.0,
    "original_line":1048,
    "side":"RIGHT",
    "original_position":51,
    "position":45,
    "subject_type":"line",
    "in_reply_to_id":1370951060.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1371990119",
    "pull_request_review_id":1697729346,
    "id":1371990119,
    "node_id":"PRRC_kwDOAlVrjc5Rxuhn",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by particular modifications, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The `TripModifications` is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modifications are applied on the schedule information, like if a static GTFS (CSV) was modified. \n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. `stop_sequence` for all stop times are replaced by a new value of 1 to n, starting with 1 on the first stop_time and increasing by 1 for each stop in the trip. The trip ID is also replaced by a replacement trip ID (`modifications_id` + `_` + `trip_id`). A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"7a67845b660a743945b8d33eade139dabf0ffae5",
    "user":{
      "login":"gcamp",
      "id":129745,
      "node_id":"MDQ6VXNlcjEyOTc0NQ==",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/129745?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/gcamp",
      "html_url":"https:\/\/github.com\/gcamp",
      "followers_url":"https:\/\/api.github.com\/users\/gcamp\/followers",
      "following_url":"https:\/\/api.github.com\/users\/gcamp\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/gcamp\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/gcamp\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/gcamp\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/gcamp\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/gcamp\/repos",
      "events_url":"https:\/\/api.github.com\/users\/gcamp\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/gcamp\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"The current text allows using the existing `trip_id` to affect existing stop and put SKIPPED on stops that are SKIPPED by the detour. That's what Swiftly is doing (and was doing before TripModifications too). \r\n\r\nOn addressing new stops : I'm a bit worried that this would allow strange behaviour, validators will point that out as an error, etc. And yes, it wouldn't be possible to target stops with `stop_sequence`. You would also still need to ingest the new Stops. I feel having a light or partial implementation of TripModification would make more sense to me than try to allow everything in TripUpdates. \r\n\r\nOne alternative is to use the experimental `stop_time_properties.assigned_stop_id` to assign new stops in real time for consumer that supports this and not TripModifications. ",
    "created_at":"2023-10-25T15:51:52Z",
    "updated_at":"2023-10-25T15:51:52Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1371990119",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1371990119"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1371990119"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1371990119\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":22.0,
    "original_line":20,
    "side":"RIGHT",
    "original_position":20,
    "position":22,
    "subject_type":"line",
    "in_reply_to_id":1370949218.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1373858384",
    "pull_request_review_id":1700701940,
    "id":1373858384,
    "node_id":"PRRC_kwDOAlVrjc5R42pQ",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by particular modifications, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The `TripModifications` is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modifications are applied on the schedule information, like if a static GTFS (CSV) was modified. \n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. `stop_sequence` for all stop times are replaced by a new value of 1 to n, starting with 1 on the first stop_time and increasing by 1 for each stop in the trip. The trip ID is also replaced by a replacement trip ID (`modifications_id` + `_` + `trip_id`). A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"7a67845b660a743945b8d33eade139dabf0ffae5",
    "user":{
      "login":"bdferris-v2",
      "id":26211219,
      "node_id":"MDQ6VXNlcjI2MjExMjE5",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/26211219?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/bdferris-v2",
      "html_url":"https:\/\/github.com\/bdferris-v2",
      "followers_url":"https:\/\/api.github.com\/users\/bdferris-v2\/followers",
      "following_url":"https:\/\/api.github.com\/users\/bdferris-v2\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/bdferris-v2\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/bdferris-v2\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/bdferris-v2\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/bdferris-v2\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/bdferris-v2\/repos",
      "events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/bdferris-v2\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"To be clear, I think I'm mostly fine with the high-level concept of a first-class \"Trip Modification\" itself (aka I'm not proposing to cram all this behavior into TripUpdates only).  But I'm keen to understand what TripUpdates would look like in a feed with modifications.\r\n\r\nSwiftly has already mentioned that they are going down the path of publishing separate GTFS-Realtime feeds based on whether a consumer can handle trip modifications or not.  I know that's not the first instance of this happening with GTFS data in general, but it's still not a great precedent to set.  I'd rather just have one feed where a consumer who doesn't support TripModifications fully could still get some value out of the feed.  For example, we've already discussed why some consumers might not be able to support detours more generally, but most can realistically handle the skipped stops and stop-time updates for stops that haven't changed along the route.\r\n\r\nBut maybe this is all just hand-waving around my specific concern: I don't really like the \"new trip id\" = `modifications_id` + `_` + `trip_id` convention.  I'd rather put `modification_id` as a first-class field in `TripDescriptor` if you need that linkage.  But why is this modification id needed here at all?  If a TripUpdate specifies a trip id for a trip that has an active modification, then that linkage is already specified by the TripModification itself, yes?  Is there are world where a feed would include a TripUpdate for the non-modified trip and for the modified trip as the same time? ",
    "created_at":"2023-10-26T21:58:48Z",
    "updated_at":"2023-10-26T21:58:49Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1373858384",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"CONTRIBUTOR",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1373858384"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1373858384"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1373858384\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":22.0,
    "original_line":20,
    "side":"RIGHT",
    "original_position":20,
    "position":22,
    "subject_type":"line",
    "in_reply_to_id":1370949218.0
  },
  {
    "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1373886295",
    "pull_request_review_id":1700735708,
    "id":1373886295,
    "node_id":"PRRC_kwDOAlVrjc5R49dX",
    "diff_hunk":"@@ -0,0 +1,64 @@\n+# Trip Modifications\n+\n+A `TripModifications` message identifies a list of similar `trip_ids` from the (CSV) GTFS sharing the same stop pattern, which are all affected by particular modifications, such as a detour.\n+\n+## SLO: Service-level objective\n+\n+The frequency of data updates is expected to be approximately hourly (~24 times\/day). Ingestion time may depend on the total number of affected trips. Consumers are expected to ingest a single TripModification within 5 minutes, and a feed with hundreds of detours within 20 minutes.\n+\n+## TripModifications\n+\n+The `TripModifications` is in effect on all of the listed service\\_dates, until it is removed from the feed. On any given service date, a trip MUST NOT be assigned to more than one `TripModifications` object.\n+\n+There MAY be multiple `TripModifications` for a given stop pattern. It may be desirable to split the trips into multiple modifications e.g. if the `propagated_modification_delay` changes significantly, over the course of the detour.\n+\n+The trips created through GTFS-TripModifications modify and replace each specified `trip_id`, and don't create a copy or additional run. Modifications are applied on the schedule information, like if a static GTFS (CSV) was modified. \n+\n+The scheduled stop times of each replacement trip are created from those of the affected trip, by performing the changes listed in modifications. `stop_sequence` for all stop times are replaced by a new value of 1 to n, starting with 1 on the first stop_time and increasing by 1 for each stop in the trip. The trip ID is also replaced by a replacement trip ID (`modifications_id` + `_` + `trip_id`). A `TripUpdate` message must be provided to publish real-time arrival\/departure times for the replacement trip.\n+\n+\n+## Linkage to TripUpdates",
    "path":"gtfs-realtime\/spec\/en\/trip-modifications.md",
    "commit_id":"4be2666bc9105024c09b17d3b3832aefbe2f33cb",
    "original_commit_id":"7a67845b660a743945b8d33eade139dabf0ffae5",
    "user":{
      "login":"rachel-swiftly",
      "id":50117106,
      "node_id":"MDQ6VXNlcjUwMTE3MTA2",
      "avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/50117106?v=4",
      "gravatar_id":"",
      "url":"https:\/\/api.github.com\/users\/rachel-swiftly",
      "html_url":"https:\/\/github.com\/rachel-swiftly",
      "followers_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/followers",
      "following_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/following{\/other_user}",
      "gists_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/gists{\/gist_id}",
      "starred_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/starred{\/owner}{\/repo}",
      "subscriptions_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/subscriptions",
      "organizations_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/orgs",
      "repos_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/repos",
      "events_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/events{\/privacy}",
      "received_events_url":"https:\/\/api.github.com\/users\/rachel-swiftly\/received_events",
      "type":"User",
      "user_view_type":"public",
      "site_admin":false
    },
    "body":"> Is there are world where a feed would include a TripUpdate for the non-modified trip and for the modified trip as the same time?\r\n\r\nSwiftly does include TripUpdates for both the non-modified trip and the modified trip (when serving a request that wants modified trips). This is so there is no gap in real-time information between the time that we know about a modification, and the time that the consumer is able to ingest and apply it. To quite @mads14's [comment](https:\/\/github.com\/google\/transit\/pull\/403#issuecomment-1758406979):\r\n\r\n> Meanwhile, we do still include all non-modified trip ids in our feed as well with the understanding that the consumer will replace those with the modified one when they read it, but given that it will take consumers some time (5 min or more) to read the trip modification details we didn't want to omit predictions for the normal trip id in the meantime.",
    "created_at":"2023-10-26T22:33:41Z",
    "updated_at":"2023-10-26T22:33:41Z",
    "html_url":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1373886295",
    "pull_request_url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403",
    "author_association":"NONE",
    "_links":{
      "self":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1373886295"
      },
      "html":{
        "href":"https:\/\/github.com\/google\/transit\/pull\/403#discussion_r1373886295"
      },
      "pull_request":{
        "href":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/403"
      }
    },
    "reactions":{
      "url":"https:\/\/api.github.com\/repos\/google\/transit\/pulls\/comments\/1373886295\/reactions",
      "total_count":0,
      "+1":0,
      "-1":0,
      "laugh":0,
      "hooray":0,
      "confused":0,
      "heart":0,
      "rocket":0,
      "eyes":0
    },
    "start_line":null,
    "original_start_line":null,
    "start_side":null,
    "line":22.0,
    "original_line":20,
    "side":"RIGHT",
    "original_position":20,
    "position":22,
    "subject_type":"line",
    "in_reply_to_id":1370949218.0
  }
]